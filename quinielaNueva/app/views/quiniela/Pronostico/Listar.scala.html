@(Pronosticos: List[Pronostico])

@css = {
	<link rel="stylesheet" media='screen' href='@routes.Assets.at("stylesheets/QuinielaPronosticoTab.css")'>
		<link rel="stylesheet" media='screen' href='@routes.Assets.at("stylesheets/QuinielaPronostico.css")'>
}
@script= {
	<script src='@routes.Assets.at("javascripts/EstructuraLocal.js")' type="text/javascript"></script>
	<script src='@routes.Assets.at("javascripts/ProcesarCambioGol.js")' type="text/javascript"></script>
	<script src='@routes.Assets.at("javascripts/Inicializar.js")' type="text/javascript"></script>	
}

@base("Listar Pronostico",css,script) {
	<script>
  $(function() {
    $( "#tabs" ).tabs();
  });
  </script>
	<section id="tabs">
	<ul class="tabs"></ul>
	@for(Pronostico <- Pronosticos) {
		@Pronostico.Propietario.refresh()
		@Pronostico.Quiniela.refresh()
		@Pronostico.Quiniela.Torneo.refresh()
		<script>$("ul").append('<li><a href="#tabs-@Pronostico.Id">@{Pronostico.Nombre}(@Pronostico.Propietario.nombre)</a></li>')</script>
		<article id="tabs-@Pronostico.Id">
		<div>@Pronostico.Nombre de @views.html.Usuario.Usuario(Pronostico.Propietario)</div>
		@Pronostico.Quiniela.Torneo.Porciones.map{Porcion=>@views.html.quiniela.Pronostico.Porcion(Porcion,true)}
		<script>
		@for(Resultado <- Pronostico.Resultados){
			@Resultado.Resultado.refresh()
			@if(Option(Resultado.Entero).nonEmpty) {
			AsignaValorResultado(@Resultado.Resultado.Id,@Resultado.Entero);
			}
			@if(Option(Resultado.Equipo).nonEmpty) {
			AsignaValorResultado(@Resultado.Resultado.Id,@Resultado.Equipo.Id);
			}  
		}
		</script>
		</article>
	}
	</section> 
}